{% extends 'nav.html' %}
{% load static %}
{% load sass_tags %}
{% block title %}example datasets{% endblock %}

{% block head %}
  <link rel="stylesheet" href="{% sass_src "scss/demo_example.scss" %}">
  <script>
  $(function(){
    $('.error-message .close').click(function(){
      $('.error-message').hide();
    });
    $('.info-message .close').click(function(){
      $('.info-message').hide();
    });
  })
  </script>
{% endblock %}

{% block content %}
  <div class="nav-div">
    <div class="example-nav">
      <span class="nav-item">
        <a href="{% url "examples" %}">projects</a>
      </span>
      <span class="nav-item active">
        <a href="">Datasets</a>
      </span>
    </div>
  </div>
  <div class="message-div" style="width:800px;margin:0 auto;">
    {% if error_message %}
      <div class="error-message">
        {{error_message}}
        <button class="close" data-dismiss="error-message"><span aria-hidden="true">&times;</span></button>
      </div>
    {% elif info %}
      <div class="info-message">
        {{info}}
        <button class="close" data-dismiss="info-message"><span aria-hidden="true">&times;</span></button>
      </div>
    {% endif %}
  </div>
  <div class="example-table">
    <table style="width:100%;">
      {% for dataset in datasets %}
        <tr class="example-row">
          <td class="title"><a href="">{{dataset.title}}</a></td>
          <td class="description">{{dataset.description}} description goes here.</td>
          <td class="format">format: {{dataset.filetype}}</td>
          <td class="action">
              <a class="buttons-sm" href=""><i class="fa fa-eye"></i></a>
              <form action="" method="post" style="display:inline-block;">
                {% csrf_token %}
                <input type="hidden" name="id" value={{dataset.id}}>
                <button class="buttons-sm" type="submit"><i class="fa fa-copy"></i></button>
              </form>
          </td>
        </tr>
      {% endfor %}
    </table>
  </div>
{% endblock %}
